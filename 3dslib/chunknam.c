
typedef struct {
  char *name;
  unsigned int id;
} chunk_name;

static chunk_name chunknames[]={

{"M3DMAGIC",0x4D4D },
{"SMAGIC",0x2D2D },
{"LMAGIC",0x2D3D },
{"CMAGIC",0xC23D},
{"MDATA",0x3D3D},
{"MESH_VERSION",0x3D3E },
{"MLIBMAGIC",0x3DAA},
{"MATMAGIC",0x3DFF},

{"M3D_VERSION",0x0002},
{"M3D_KFVERSION",0x0005},

{"COLOR_F",0x0010},
{"COLOR_24",0x0011},
{"LIN_COLOR_24",0x0012},
{"LIN_COLOR_F",0x0013},
{"INT_PERCENTAGE",0x0030 },
{"FLOAT_PERCENTAGE",0x0031 },
{"MASTER_SCALE",0x0100 },

{"BIT_MAP",0x1100},
{"USE_BIT_MAP",0x1101 },
{"SOLID_BGND",0x1200 },
{"USE_SOLID_BGND",0x1201 },
{"V_GRADIENT",0x1300 },
{"USE_V_GRADIENT",0x1301 },

{"LO_SHADOW_BIAS",0x1400 },
{"HI_SHADOW_BIAS",0x1410 },
{"SHADOW_MAP_SIZE",0x1420 },
{"SHADOW_SAMPLES",0x1430 },
{"SHADOW_RANGE",0x1440 },
{"SHADOW_FILTER",0x1450 },
{"RAY_BIAS",0x1460},
{"O_CONSTS",0x1500 },

{"AMBIENT_LIGHT",0x2100 },
{"FOG",0x2200 },
{"USE_FOG",0x2201 },
{"FOG_BGND",0x2210 },
{"DISTANCE_CUE",0x2300 },
{"USE_DISTANCE_CUE",0x2301 },
{"LAYER_FOG",0x2302},
{"USE_LAYER_FOG",0x2303},
{"DCUE_BGND",0x2310 },

{"DEFAULT_VIEW",0x3000 },
{"VIEW_TOP",0x3010 },
{"VIEW_BOTTOM",0x3020 },
{"VIEW_LEFT",0x3030 },
{"VIEW_RIGHT",0x3040 },
{"VIEW_FRONT",0x3050 },
{"VIEW_BACK",0x3060 },
{"VIEW_USER",0x3070 },
{"VIEW_CAMERA",0x3080 },
{"VIEW_WINDOW",0x3090 },

{"NAMED_OBJECT",0x4000},
{"OBJ_HIDDEN",0x4010},
{"OBJ_VIS_LOFTER",0x4011},
{"OBJ_DOESNT_CAST",0x4012},
{"OBJ_MATTE",0x4013},
{"OBJ_FAST",0x4014},
{"OBJ_PROCEDURAL",0x4015 },
{"OBJ_FROZEN",0x4016 },
{"OBJ_DONT_RCVSHADOW",0x4017},

{"N_TRI_OBJECT",0x4100 },
{"POINT_ARRAY",0x4110 },
{"POINT_FLAG_ARRAY",0x4111 },
{"FACE_ARRAY",0x4120 },
{"MSH_MAT_GROUP",0x4130 },
{"OLD_MAT_GROUP",0x4131 },
{"TEX_VERTS",0x4140 },
{"SMOOTH_GROUP",0x4150},
{"MESH_MATRIX",0x4160},
{"MESH_COLOR",0x4165},
{"MESH_TEXTURE_INFO",0x4170},
{"PROC_NAME",0x4181 },
{"PROC_DATA",0x4182 },
{"MSH_BOXMAP",0x4190},

{"N_D_L_OLD",0x4400 },
{"N_CAM_OLD",0x4500 },

{"N_DIRECT_LIGHT",0x4600 },
{"DL_SPOTLIGHT",0x4610},
{"DL_OFF",0x4620 },
{"DL_ATTENUATE",0x4625},
{"DL_RAYSHAD",0x4627},
{"DL_SHADOWED",0x4630},
{"DL_LOCAL_SHADOW",0x46410},
{"DL_LOCAL_SHADOW2",0x4641},
{"DL_SEE_CONE",0x4650},
{"DL_SPOT_RECTANGULAR",0x4651},
{"DL_SPOT_OVERSHOOT",0x4652},
{"DL_SPOT_PROJECTOR",0x4653},
{"DL_EXCLUDE",0x4654},
{"DL_RANGE",0x4655},        /* Not used in R3 */
{"DL_SPOT_ROLL",0x4656},
{"DL_SPOT_ASPECT",0x4657},
{"DL_RAY_BIAS",0x4658},
{"DL_INNER_RANGE",0x4659},
{"DL_OUTER_RANGE",0x465A},
{"DL_MULTIPLIER",0x465B},

{"N_AMBIENT_LIGHT",0x4680},

{"N_CAMERA",0x4700},
{"CAM_SEE_CONE",0x4710},
{"CAM_RANGES",0x4720},

/* 4Fxx - hierarchy
   50xx - Shape flags
   6xxx - Lofter ?
*/

{"VIEWPORT_LAYOUT_OLD",0x7000},
{"VIEWPORT_LAYOUT",0x7001},
{"VIEWPORT_DATA_OLD",0x7010},
{"VIEWPORT_DATA",0x7011},
{"VIEWPORT_DATA_3",0x7012},
{"VIEWPORT_SIZE",0x7020},
{"NETWORK_VIEW",0x7030},

/* 8xxx  External Application Data */

{"MAT_ENTRY",0xAFFF },
{"MAT_NAME",0xA000},
{"MAT_AMBIENT",0xA010 },
{"MAT_DIFFUSE",0xA020 },
{"MAT_SPECULAR",0xA030 },
{"MAT_SHININESS",0xA040 },
{"MAT_SHIN2PCT",0xA041},
{"MAT_SHIN3PCT",0xA042},
{"MAT_TRANSPARENCY",0xA050},
{"MAT_XPFALL",0xA052 },
{"MAT_REFBLUR",0xA053 },

{"MAT_SELF_ILLUM",0xA080 },
{"MAT_TWO_SIDE",0xA081},
{"MAT_DECAL",0xA082 },
{"MAT_ADDITIVE",0xA083 },
{"MAT_SELF_ILPCT",0xA084 },
{"MAT_WIRE",0xA085},
{"MAT_SUPERSMP",0xA086},
{"MAT_WIRESIZE",0xA087},
{"MAT_FACEMAP",0xA088},
{"MAT_XPFALLIN",0xA08A},
{"MAT_PHONGSOFT",0xA08C},
{"MAT_WIREABS",0xA08E},

{"MAT_SHADING",0xA100 },

{"MAT_TEXMAP",0xA200 },
{"MAT_OPACMAP",0xA210},
{"MAT_REFLMAP",0xA220},
{"MAT_BUMPMAP",0xA230 },
{"MAT_SPECMAP",0xA204},
{"MAT_USE_XPFALL",0xA240 },
{"MAT_USE_REFBLUR",0xA250 },
{"MAT_BUMP_PERCENT",0xA252 },

{"MAT_MAPNAME",0xA300},
{"MAT_ACUBIC",0xA310},
{"MAT_SXP_TEXT_DATA",0xA320},
{"MAT_SXP_TEXT2_DATA",0xA321},
{"MAT_SXP_OPAC_DATA",0xA322},
{"MAT_SXP_BUMP_DATA",0xA324},
{"MAT_SXP_SPEC_DATA",0xA325},
{"MAT_SXP_SHIN_DATA",0xA326},
{"MAT_SXP_SELFI_DATA",0xA328},
{"MAT_SXP_TEXTMASK_DATA",0xA32A},
{"MAT_SXP_TEXT2MASK_DATA",0xA32C},
{"MAT_SXP_OPACMASK_DATA",0xA32E},
{"MAT_SXP_BUMPMASK_DATA",0xA330},
{"MAT_SXP_SPECMASK_DATA",0xA332},
{"MAT_SXP_SHINMASK_DATA",0xA334},
{"MAT_SXP_SELFIMASK_DATA",0xA336},
{"MAT_SXP_REFLMASK_DATA",0xA338},
{"MAT_TEX2MAP",0xA33A},
{"MAT_SHINMAP",0xA33C},
{"MAT_SELFIMAP",0xA33D},
{"MAT_TEXMASK",0xA33E},
{"MAT_TEX2MASK",0xA340},
{"MAT_OPACMASK",0xA342},
{"MAT_BUMPMASK",0xA344},
{"MAT_SHINMASK",0xA346},
{"MAT_SPECMASK",0xA348},
{"MAT_SELFIMASK",0xA34A},
{"MAT_REFLMASK",0xA34C},
{"MAT_MAP_TILING_OLD",0xA350},
{"MAT_MAP_TILING",0xA351},
{"MAT_MAT_TEXBLUR_OLD",0xA352},
{"MAT_MAT_TEXBLUR",0xA353},
{"MAT_MAP_USCALE",0xA354},
{"MAT_MAP_VSCALE",0xA356},
{"MAT_MAP_UOFFSET",0xA358},
{"MAT_MAP_VOFFSET",0xA35A},
{"MAT_MAP_ANG",0xA35C},
{"MAT_MAP_COL1",0xA360},
{"MAT_MAP_COL2",0xA362},
{"MAT_MAP_RCOL",0xA364},
{"MAT_MAP_GCOL",0xA366},
{"MAT_MAP_BCOL",0xA368},

/* Keyframe Chunk IDs */

{"KFDATA",0xB000},
{"KFHDR",0xB00A},

{"AMBIENT_NODE_TAG",0xB001},
{"OBJECT_NODE_TAG",0xB002},
{"CAMERA_NODE_TAG",0xB003},
{"TARGET_NODE_TAG",0xB004},
{"LIGHT_NODE_TAG",0xB005},
{"L_TARGET_NODE_TAG",0xB006},
{"SPOTLIGHT_NODE_TAG",0xB007},

{"KFSEG",0xB008},
{"KFCURTIME",0xB009},

{"NODE_HDR",0xB010},
{"INSTANCE_NAME",0xB011},
{"PRESCALE",0xB012},
{"PIVOT",0xB013},
{"BOUNDBOX",0xB014},
{"MORPH_SMOOTH",0xB015},
{"POS_TRACK_TAG",0xB020},
{"ROT_TRACK_TAG",0xB021},
{"SCL_TRACK_TAG",0xB022},
{"FOV_TRACK_TAG",0xB023},
{"ROLL_TRACK_TAG",0xB024},
{"COL_TRACK_TAG",0xB025},
{"MORPH_TRACK_TAG",0xB026},
{"HOT_TRACK_TAG",0xB027},
{"FALL_TRACK_TAG",0xB028},
{"HIDE_TRACK_TAG",0xB029},
{"NODE_ID",0xB030},

};

char* get_chunk_name(unsigned int id){
int len=sizeof(chunknames)/sizeof(chunk_name);
int i;
for(i=0;i<len;i++) if(chunknames[i].id==id) return chunknames[i].name;
return "???";
}

#if 0
#include <stdio.h>
main(){
  printf("a33e = %s\n",get_chunk_name(0xa33e));
}
#endif
